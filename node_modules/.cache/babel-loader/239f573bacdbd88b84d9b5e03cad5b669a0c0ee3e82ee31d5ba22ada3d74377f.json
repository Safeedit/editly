{"ast":null,"code":"var _jsxFileName = \"D:\\\\Service Company\\\\safeeditpdf\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from \"react\";\nimport { Document, Page, pdfjs } from \"react-pdf\";\nimport { PDFDocument, rgb, StandardFonts } from \"pdf-lib\";\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.min.js`;\nfunction App() {\n  _s();\n  const [pdfFile, setPdfFile] = useState(null);\n  const [numPages, setNumPages] = useState(null);\n  const [textElements, setTextElements] = useState([]);\n  const [editingText, setEditingText] = useState(\"\");\n  const [currentPage, setCurrentPage] = useState(null);\n  const fileInputRef = useRef();\n  const handleFileChange = e => {\n    const file = e.target.files[0];\n    if (file && file.type === \"application/pdf\") {\n      setPdfFile(file);\n      setTextElements([]);\n    }\n  };\n  const onDocumentLoadSuccess = ({\n    numPages\n  }) => {\n    setNumPages(numPages);\n  };\n  const handlePageClick = (e, pageIndex) => {\n    const rect = e.target.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    setCurrentPage(pageIndex);\n    const input = prompt(\"Enter text to insert:\");\n    if (input) {\n      setTextElements(prev => [...prev, {\n        page: pageIndex,\n        x,\n        y,\n        text: input\n      }]);\n    }\n  };\n  const handleDownload = async () => {\n    if (!pdfFile) return;\n    const arrayBuffer = await pdfFile.arrayBuffer();\n    const pdfDoc = await PDFDocument.load(arrayBuffer);\n    const font = await pdfDoc.embedFont(StandardFonts.Helvetica);\n    textElements.forEach(el => {\n      const page = pdfDoc.getPage(el.page);\n      const {\n        width,\n        height\n      } = page.getSize();\n      const fontSize = 12;\n\n      // pdf-lib uses bottom-left origin\n      page.drawText(el.text, {\n        x: el.x,\n        y: height - el.y - fontSize,\n        size: fontSize,\n        font,\n        color: rgb(0, 0, 0)\n      });\n    });\n    const modifiedPdf = await pdfDoc.save();\n    const blob = new Blob([modifiedPdf], {\n      type: \"application/pdf\"\n    });\n    const link = document.createElement(\"a\");\n    link.href = URL.createObjectURL(blob);\n    link.download = \"EditedPDF.pdf\";\n    link.click();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\uD83D\\uDCDD SafeEditPDF\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      ref: fileInputRef,\n      type: \"file\",\n      accept: \"application/pdf\",\n      onChange: handleFileChange,\n      style: {\n        display: \"none\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => fileInputRef.current.click(),\n      className: \"btn\",\n      children: \"\\uD83D\\uDCC2 Upload PDF\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), pdfFile && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleDownload,\n        className: \"btn bg-green-600\",\n        children: \"\\uD83D\\uDCBE Download Edited PDF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Document, {\n        file: pdfFile,\n        onLoadSuccess: onDocumentLoadSuccess,\n        className: \"pdf-container\",\n        children: Array.from(new Array(numPages), (_, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"relative\",\n            marginBottom: \"1rem\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Page, {\n            pageNumber: index + 1,\n            width: 600,\n            onClick: e => handlePageClick(e, index)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"overlay\",\n            style: {\n              position: \"absolute\",\n              top: 0,\n              left: 0,\n              width: 600,\n              height: \"100%\",\n              pointerEvents: \"none\"\n            },\n            children: textElements.filter(el => el.page === index).map((el, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                position: \"absolute\",\n                left: el.x,\n                top: el.y,\n                background: \"white\",\n                padding: \"2px 4px\",\n                fontSize: \"12px\",\n                pointerEvents: \"auto\"\n              },\n              children: el.text\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 23\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 17\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"9IaU8Uq+3dFY9YE1gQrOvFCJKWs=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useRef","Document","Page","pdfjs","PDFDocument","rgb","StandardFonts","jsxDEV","_jsxDEV","Fragment","_Fragment","GlobalWorkerOptions","workerSrc","version","App","_s","pdfFile","setPdfFile","numPages","setNumPages","textElements","setTextElements","editingText","setEditingText","currentPage","setCurrentPage","fileInputRef","handleFileChange","e","file","target","files","type","onDocumentLoadSuccess","handlePageClick","pageIndex","rect","getBoundingClientRect","x","clientX","left","y","clientY","top","input","prompt","prev","page","text","handleDownload","arrayBuffer","pdfDoc","load","font","embedFont","Helvetica","forEach","el","getPage","width","height","getSize","fontSize","drawText","size","color","modifiedPdf","save","blob","Blob","link","document","createElement","href","URL","createObjectURL","download","click","className","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","accept","onChange","style","display","onClick","current","onLoadSuccess","Array","from","_","index","position","marginBottom","pageNumber","pointerEvents","filter","map","i","background","padding","_c","$RefreshReg$"],"sources":["D:/Service Company/safeeditpdf/src/App.jsx"],"sourcesContent":["import React, { useState, useRef } from \"react\";\r\nimport { Document, Page, pdfjs } from \"react-pdf\";\r\nimport { PDFDocument, rgb, StandardFonts } from \"pdf-lib\";\r\nimport \"./App.css\";\r\n\r\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.min.js`;\r\n\r\nfunction App() {\r\n  const [pdfFile, setPdfFile] = useState(null);\r\n  const [numPages, setNumPages] = useState(null);\r\n  const [textElements, setTextElements] = useState([]);\r\n  const [editingText, setEditingText] = useState(\"\");\r\n  const [currentPage, setCurrentPage] = useState(null);\r\n  const fileInputRef = useRef();\r\n\r\n  const handleFileChange = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file && file.type === \"application/pdf\") {\r\n      setPdfFile(file);\r\n      setTextElements([]);\r\n    }\r\n  };\r\n\r\n  const onDocumentLoadSuccess = ({ numPages }) => {\r\n    setNumPages(numPages);\r\n  };\r\n\r\n  const handlePageClick = (e, pageIndex) => {\r\n    const rect = e.target.getBoundingClientRect();\r\n    const x = e.clientX - rect.left;\r\n    const y = e.clientY - rect.top;\r\n    setCurrentPage(pageIndex);\r\n    const input = prompt(\"Enter text to insert:\");\r\n    if (input) {\r\n      setTextElements((prev) => [\r\n        ...prev,\r\n        { page: pageIndex, x, y, text: input },\r\n      ]);\r\n    }\r\n  };\r\n\r\n  const handleDownload = async () => {\r\n    if (!pdfFile) return;\r\n\r\n    const arrayBuffer = await pdfFile.arrayBuffer();\r\n    const pdfDoc = await PDFDocument.load(arrayBuffer);\r\n    const font = await pdfDoc.embedFont(StandardFonts.Helvetica);\r\n\r\n    textElements.forEach((el) => {\r\n      const page = pdfDoc.getPage(el.page);\r\n      const { width, height } = page.getSize();\r\n      const fontSize = 12;\r\n\r\n      // pdf-lib uses bottom-left origin\r\n      page.drawText(el.text, {\r\n        x: el.x,\r\n        y: height - el.y - fontSize,\r\n        size: fontSize,\r\n        font,\r\n        color: rgb(0, 0, 0),\r\n      });\r\n    });\r\n\r\n    const modifiedPdf = await pdfDoc.save();\r\n    const blob = new Blob([modifiedPdf], { type: \"application/pdf\" });\r\n    const link = document.createElement(\"a\");\r\n    link.href = URL.createObjectURL(blob);\r\n    link.download = \"EditedPDF.pdf\";\r\n    link.click();\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h1>üìù SafeEditPDF</h1>\r\n\r\n      <input\r\n        ref={fileInputRef}\r\n        type=\"file\"\r\n        accept=\"application/pdf\"\r\n        onChange={handleFileChange}\r\n        style={{ display: \"none\" }}\r\n      />\r\n      <button onClick={() => fileInputRef.current.click()} className=\"btn\">\r\n        üìÇ Upload PDF\r\n      </button>\r\n\r\n      {pdfFile && (\r\n        <>\r\n          <button onClick={handleDownload} className=\"btn bg-green-600\">\r\n            üíæ Download Edited PDF\r\n          </button>\r\n\r\n          <Document\r\n            file={pdfFile}\r\n            onLoadSuccess={onDocumentLoadSuccess}\r\n            className=\"pdf-container\"\r\n          >\r\n            {Array.from(new Array(numPages), (_, index) => (\r\n              <div\r\n                key={index}\r\n                style={{ position: \"relative\", marginBottom: \"1rem\" }}\r\n              >\r\n                <Page\r\n                  pageNumber={index + 1}\r\n                  width={600}\r\n                  onClick={(e) => handlePageClick(e, index)}\r\n                />\r\n                <div\r\n                  className=\"overlay\"\r\n                  style={{\r\n                    position: \"absolute\",\r\n                    top: 0,\r\n                    left: 0,\r\n                    width: 600,\r\n                    height: \"100%\",\r\n                    pointerEvents: \"none\",\r\n                  }}\r\n                >\r\n                  {textElements\r\n                    .filter((el) => el.page === index)\r\n                    .map((el, i) => (\r\n                      <div\r\n                        key={i}\r\n                        style={{\r\n                          position: \"absolute\",\r\n                          left: el.x,\r\n                          top: el.y,\r\n                          background: \"white\",\r\n                          padding: \"2px 4px\",\r\n                          fontSize: \"12px\",\r\n                          pointerEvents: \"auto\",\r\n                        }}\r\n                      >\r\n                        {el.text}\r\n                      </div>\r\n                    ))}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </Document>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}